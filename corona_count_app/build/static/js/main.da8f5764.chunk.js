(this.webpackJsonpcorona_count_app=this.webpackJsonpcorona_count_app||[]).push([[0],{234:function(e){e.exports=JSON.parse('{"domain":"dev-owps-8q0.auth0.com","clientId":"NT5A3idKb6dMzBrd2Sg8RrdCmNL0kWmp"}')},37:function(e){e.exports=JSON.parse('{"users_url":"http://127.0.0.1:8082/api/users","bunkers_url":"http://127.0.0.1:8082/api/bunkers","measures_url":"http://127.0.0.1:8082/api/measures"}')},376:function(e,t,a){e.exports=a(652)},381:function(e,t,a){},382:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},383:function(e,t,a){},644:function(e,t){},652:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(24),o=a.n(s),l=(a(381),a(135)),u=a(92),i=(a(382),a(383),a(21)),c=a.n(i),d=a(32),m=a(185),p=a(83),_=a(84),h=a(89),b=a(85),f=a(90),k=a(723),g=a(728),E=a(696),v=a(727),y=a(722),C=a(731),x=a(123),w=a(331),j=a.n(w),S=function(){return window.history.replaceState({},document.title,window.location.pathname)},I=r.a.createContext(),O=function(){return Object(n.useContext)(I)},B=a(353),U=function(){var e=O(),t=e.isAuthenticated,a=e.logout;return r.a.createElement("div",null,t&&r.a.createElement(B.a,{onClick:function(){return a()},variant:"button",color:"textPrimary"},"Log out"))},R=a(36),L=a.n(R),P=a(37),M=a(62),T=a.n(M),W=a(717),A=a(715),F=a(730),D=a(697),N=a(698),z=a(699),G=a(700),H=a(701),J=a(702),V=a(720),q=a(703),Y=a(351),K=a(695),$=function(e){function t(e){var a;Object(p.a)(this,t),(a=Object(h.a)(this,Object(b.a)(t).call(this,e))).state={bunkers:[],user_obj:null,user_name:null,user_id:null,add_bunker_tab:0,join_bunker_error:!1,create_bunker_form_text:"",join_bunker_form_text:"",redirect_bunker_id:"",users_for_target_bunker:[],past_users_for_target_bunker:[],bunker_to_leave:null,adding_bunker:!1,theme:a.props.theme,help:!1,updating_username:!1,update_username_text:"",update_username_error:!1},a.handleItemClick=function(e,t){a.setState({add_bunker_tab:t,create_bunker_form_text:"",join_bunker_form_text:""})},a.handleLeaveBunkerClickOpen=function(e){a.setState({bunker_to_leave:e})},a.handleLeaveBunkerClickClose=function(){a.setState({bunker_to_leave:null})},a.TabPanel=function(e){var t=e.children,a=e.value,n=e.index,s=Object(m.a)(e,["children","value","index"]);return r.a.createElement(B.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"add-bunker-tabpanel-".concat(n),"aria-labelledby":"add-bunker-tab-".concat(n)},s),a===n&&r.a.createElement(W.a,{p:3},t))},a.__onCreateBunkerFormChange=function(e){a.setState({create_bunker_form_text:e})},a.__onJoinBunkerFormChange=function(e){a.setState({join_bunker_form_text:e})},a.__onAddBunkerClick=function(){0===a.state.add_bunker_tab?a.state.join_bunker_form_text&&a.joinBunker(a.state.join_bunker_form_text).then((function(e){return console.log("Attempt join new bunker",e)})):a.state.create_bunker_form_text&&a.createNewBunker(a.state.create_bunker_form_text).then((function(e){return console.log("Attempt created new bunker",e)}))},a.__onUpdateUsernameFormChange=function(e){a.setState({update_username_text:e})},a.__onUpdateUsernameClick=function(){a.state.update_username_text?a.updateUsername(a.state.update_username_text).then((function(e){console.log("User name updated"),a.setState({update_username_error:!1,updating_username:!1})})):a.setState({update_username_error:!0})},a.addBunkerCard=function(){return 0===a.state.add_bunker_tab?r.a.createElement(A.a,{autoFocus:!0,margin:"dense",id:"name",label:"Bunker access code",type:"text",fullWidth:!0,color:"secondary",onChange:function(e){return a.__onJoinBunkerFormChange(e.target.value)}}):r.a.createElement(A.a,{autoFocus:!0,margin:"dense",id:"name",label:"New bunker name",type:"text",fullWidth:!0,color:"secondary",onChange:function(e){return a.__onCreateBunkerFormChange(e.target.value)}})},a.addBunkerModalHeader=function(){return a.state.join_bunker_error?r.a.createElement(B.a,{color:"secondary"},r.a.createElement("b",null,"Bunker join error! Either your access code is incorrect, or you've already been added to this bunker.")):r.a.createElement(B.a,null,r.a.createElement("b",null,"Time is of the essence... get to safety!"))},a.addUsernameDialogHeader=function(){return a.state.update_username_error?r.a.createElement(B.a,{color:"secondary"},r.a.createElement("b",null,"Please provide a valid username!")):r.a.createElement(B.a,null,r.a.createElement("b",null,"What is your name?"))},a.renderEmptyBunkerListItem=function(){return r.a.createElement(k.a.Item,null,r.a.createElement(k.a.Icon,{name:"certificate",size:"large",verticalAlign:"middle"}),r.a.createElement(k.a.Content,null,r.a.createElement(k.a.Header,null,"You're in no bunkers!"),r.a.createElement(k.a.Description,null,"Get to safety")))},a.renderBunkerListItem=function(e){return r.a.createElement(k.a.Item,null,r.a.createElement(k.a.Icon,{name:"certificate",size:"large",verticalAlign:"middle"}),r.a.createElement(k.a.Content,null,r.a.createElement(k.a.Header,null,r.a.createElement(B.a,{component:"a",onClick:function(){a.setRedirect(e)}},e.name)),r.a.createElement(k.a.Description,null,r.a.createElement(B.a,{component:"a",variant:"caption",onClick:function(){a.handleLeaveBunkerClickOpen(e._id)}},"Leave Bunker"))))},a.genBunkerList=function(){var e=[];return 0===a.state.bunkers.length?e.push(a.renderEmptyBunkerListItem()):a.state.bunkers.forEach((function(t){return e.push(a.renderBunkerListItem(t))})),e};var n=a.props.user;return console.log("user",n),a.getUserData(n).then((function(e){return console.log("User data retrieved")})),a}return Object(f.a)(t,e),Object(_.a)(t,[{key:"setRedirect",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("clicked on a bunker",t),a=P.bunkers_url+"/users/"+t._id,a=encodeURI(a),console.log("Get users from bunker url: ",a),e.prev=4,e.next=7,L.a.get(a).then((function(e){console.log("Retrieved users from bunker: ",e.data.users),n.setState({users_for_target_bunker:e.data.users,past_users_for_target_bunker:e.data.past_users,redirect_bunker_id:t._id})}));case 7:e.sent,e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(4),console.log("Failed getting users from bunker",e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserData",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,n,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.sub.slice(6),n=P.users_url+"/"+a,n=encodeURI(n),console.log("Get user data url",n),e.prev=4,e.next=7,L.a.get(n);case 7:r=e.sent,s=r.data.bunkers,this.setState({bunkers:s}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0),this.postNewUser(t);case 16:this.setState({user_name:t.name}),this.setState({user_id:a.toString()}),this.setState({user_obj:t});case 19:case"end":return e.stop()}}),e,this,[[4,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"postNewUser",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=P.users_url,a=encodeURI(a),n=t.sub.slice(6),console.log("Post new user url: ",a),e.next=6,L.a.post(a,{name:t.nickname.toString(),bunkers:[],user_id:n.toString()},{headers:{"Content-Type":"application/json"}}).catch((function(e){return console.log(e.response.data)}));case 6:r=e.sent,console.log("Post new user response data",r.data);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"createNewBunker",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=P.bunkers_url,a=encodeURI(a),console.log("Post new bunker url: ",a),e.next=5,L.a.post(a,{name:t.toString(),users:[this.state.user_id],measures:[]},{headers:{"Content-Type":"application/json"}}).catch((function(e){return console.log(e.response)})).then((function(e){return n.setRedirect(e.data.bunker)}));case 5:e.sent;case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"joinBunker",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,n,r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=P.bunkers_url+"/user/"+t+"/"+this.state.user_id,a=encodeURI(a),console.log("Join bunker url: ",a),e.prev=3,e.next=6,L.a.post(a).then((function(e){return r.setRedirect(e.data.bunker)}));case 6:n=e.sent,console.log("Bunker data: ",n.data),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("Bunker doesn't exist",e.t0.response),this.setState({join_bunker_error:!0});case 14:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"leaveBunker",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=P.bunkers_url+"/user/"+t+"/"+this.state.user_id,a=encodeURI(a),console.log("Remove user from bunker: ",a),e.prev=3,e.next=6,L.a.delete(a);case 6:n=e.sent,console.log("Successfully left Bunker: ",n.success),this.setState({bunker_to_leave:null}),this.getUserData(this.props.user).then((function(e){return console.log("User data retrieved")})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("Error leaving bunker: ",e.t0.response);case 15:case"end":return e.stop()}}),e,this,[[3,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateUsername",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=P.users_url+"/"+this.state.user_id+"/"+this.state.update_username_text,a=encodeURI(a),console.log("Update username url:",a),e.prev=3,e.next=6,L.a.post(a);case 6:n=e.sent,console.log("Successfully updated username: ",n.success),this.setState({update_username_text:""}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("Error updating username: ",e.t0.response);case 14:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.genBunkerList();if(""!==this.state.redirect_bunker_id){var a=this.state.redirect_bunker_id,n=this.state.user_obj,s=this.state.users_for_target_bunker,o=this.state.past_users_for_target_bunker,l=this.state.theme;return r.a.createElement(u.a,{to:{pathname:"/bunker",state:{user:n,bunker_id:a,users_for_bunker:s,past_users_for_bunker:o,theme:l}}})}return r.a.createElement("div",{className:"full-height",style:{backgroundColor:"#eb4d55 ",backgroundSize:"cover",position:"absolute",minHeight:"100%",minWidth:"100%"}},r.a.createElement(K.a,{theme:Object(Y.a)(this.state.theme)},r.a.createElement(g.a,{divided:"vertically"},r.a.createElement(g.a.Row,{columns:1},r.a.createElement(E.a,null,r.a.createElement(v.a,{fixed:"top",inverted:!0,borderless:!0},r.a.createElement(E.a,null,r.a.createElement(v.a.Item,{position:"left"},r.a.createElement(y.a,{item:!0,icon:"align justify",simple:!0},r.a.createElement(y.a.Menu,{style:{background:"#5c5c5c"}},r.a.createElement(y.a.Item,null,r.a.createElement(B.a,{onClick:function(){return e.setState({updating_username:!0})},variant:"button",color:"textPrimary"},r.a.createElement(T.a,{name:"pencil alternate"}),"Update name...")),r.a.createElement(y.a.Item,null,r.a.createElement("div",null,r.a.createElement(B.a,{onClick:function(){return e.setState({help:!0})},variant:"button",color:"textPrimary"},r.a.createElement(T.a,{name:"question"})," Help"))),r.a.createElement(F.a,{open:this.state.updating_username,onClose:function(){return e.setState({updating_username:!1})},"aria-labelledby":"update-username-title","aria-describedby":"update-username-description"},r.a.createElement(D.a,{id:"update-username-title"},"Update your name"),r.a.createElement(N.a,null,r.a.createElement(z.a,{id:"update-username-description"},this.addUsernameDialogHeader(),"Update the name that other survivors in your bunkers will see for you."),r.a.createElement(A.a,{autoFocus:!0,margin:"dense",id:"new-username",label:"New User Name",type:"text",fullWidth:!0,color:"secondary",onChange:function(t){return e.__onUpdateUsernameFormChange(t.target.value)}})),r.a.createElement(G.a,null,r.a.createElement(H.a,{onClick:function(){return e.setState({updating_username:!1})}},"Cancel"),r.a.createElement(H.a,{onClick:this.__onUpdateUsernameClick},"Update"))),r.a.createElement(y.a.Item,null,r.a.createElement(U,null))))),r.a.createElement(v.a.Item,{header:!0},r.a.createElement(B.a,{variant:"h4"},"Corona Count")),r.a.createElement(v.a.Item,{as:"a",position:"right",onClick:function(){return e.setState({adding_bunker:!0})}},r.a.createElement(C.a.Inline,null," ",r.a.createElement(T.a,{name:"add"})," Add Bunker...")),r.a.createElement(F.a,{open:this.state.adding_bunker,onClose:function(){return e.setState({adding_bunker:!1})},"aria-labelledby":"add-bunker-title","aria-describedby":"add-bunker-description",fullWidth:!0},r.a.createElement(D.a,{id:"add-bunker-title"},"Add a new bunker"),r.a.createElement(N.a,null,r.a.createElement(z.a,{id:"add-bunker-description"},this.addBunkerModalHeader(),"Create a bunker and invite your friends to stay safe and start slandering!")),r.a.createElement(J.a,{position:"static"},r.a.createElement(V.a,{value:this.state.add_bunker_tab,onChange:this.handleItemClick,"aria-label":"add-bunker-tabs"},r.a.createElement(q.a,{label:"Join",id:"add-bunker-0","aria-controls":"add-bunker-tabpanel-0"}),r.a.createElement(q.a,{label:"Create",id:"add-bunker-1","aria-controls":"add-bunker-tabpanel-1"}))),r.a.createElement(this.TabPanel,{value:this.state.add_bunker_tab,index:0},this.addBunkerCard()),r.a.createElement(this.TabPanel,{value:this.state.add_bunker_tab,index:1},this.addBunkerCard()),r.a.createElement(G.a,null,r.a.createElement(H.a,{onClick:function(){return e.setState({adding_bunker:!1})}},"Cancel"),r.a.createElement(H.a,{onClick:this.__onAddBunkerClick},"Add"))),r.a.createElement(F.a,{open:this.state.help,onClose:function(){return e.setState({help:!1})},"aria-labelledby":"help-title","aria-describedby":"help-description",fullWidth:!0},r.a.createElement(D.a,{id:"help-title"},"Welcome to Corona Count"),r.a.createElement(N.a,null,r.a.createElement(z.a,{id:"help-description"},r.a.createElement(B.a,null,r.a.createElement("b",null,"Coronavirus... it's getting real!")),r.a.createElement("br",null),'Corona count is a a way for you and your fellow quarantinees to stay sane (or not) and have some fun during this global pandemic. The game is simple. First create a bunker. Like the ones you\'re probably camping out in right now, a bunker is a virtual dugout for you, your friends, and your family. Once you create and enter a bunker, click on the button on the top right to add your friends. Just share the access code with your crew and they can join you in "shelter."',r.a.createElement("br",null),r.a.createElement("br",null),'Is your Dad making too many bad jokes, friend coughing too loudly, or sister watching too much TikTok? This is where the measures come in. Create a measure such as "Humor," "Hygiene," to be able to dock your points or award them based on how they do with the criteria. Next, add some measures. Each measure has its own leaderboard so your whole bunker will know who\'s #1, and who needs to get their stuff together.',r.a.createElement("br",null),r.a.createElement("br",null),"Stay safe and social distance!")),r.a.createElement(G.a,null,r.a.createElement(H.a,{onClick:function(){return e.setState({help:!1})}},"Close"))))))),r.a.createElement(g.a.Row,{columns:1},r.a.createElement(E.a,{text:!0,style:{marginTop:"50px"}},r.a.createElement(C.a,{vertical:!0},r.a.createElement(k.a,{divided:!0,inverted:!0,relaxed:!0,items:t}))))),r.a.createElement(F.a,{open:null!=this.state.bunker_to_leave,onClose:this.handleLeaveBunkerClickClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(D.a,{id:"alert-dialog-title"},"Are you sure you want to leave this bunker?"),r.a.createElement(N.a,null,r.a.createElement(z.a,{id:"alert-dialog-description"},"If you leave this bunker, your rankings in all its measures will be lost, and you will have to rejoin as a new member.")),r.a.createElement(G.a,null,r.a.createElement(H.a,{onClick:this.handleLeaveBunkerClickClose},"Cancel"),r.a.createElement(H.a,{onClick:function(){return e.leaveBunker(e.state.bunker_to_leave)},autoFocus:!0},"Leave Bunker")))))}}]),t}(r.a.Component),Q=function(){var e=O(),t=e.loading,a=e.user;return t||!a?r.a.createElement("div",null,"Loading..."):r.a.createElement($,{user:a,theme:{palette:{primary:{main:"#333366"},secondary:{main:"#ff9d76"},warning:{main:"#eb4d55"},type:"dark"}}})},X=a(732),Z=a(352),ee=a(718),te=a(726),ae=a(724),ne=a(719),re=a(93),se=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle"},r.a.createElement(g.a.Column,{style:{maxWidth:450}},r.a.createElement(X.a,{as:"h2",color:"#73031D",textAlign:"center"},r.a.createElement(Z.a,{src:"../../icons/icon_1.png"})," Log-in to your account"),r.a.createElement(ee.a,{size:"large"},r.a.createElement(C.a,{stacked:!0},r.a.createElement(ee.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail address"}),r.a.createElement(ee.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password"}),r.a.createElement(te.a,{color:"teal",fluid:!0,size:"large"},"Login"))),r.a.createElement(ae.a,null,r.a.createElement("div",{className:"ui red horizontal label"},"New to us?"),r.a.createElement(ne.a,{trigger:r.a.createElement("a",{href:"#"},"Sign Up"),closeIcon:!0},r.a.createElement(X.a,{icon:"signup",content:"Sign up for Corona Count"}),r.a.createElement(ne.a.Content,null,r.a.createElement(ee.a,{size:"large"},r.a.createElement(C.a,{stacked:!0},r.a.createElement(ee.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"name"}),r.a.createElement(ee.a.Input,{fluid:!0,icon:"address card outline",iconPosition:"left",placeholder:"E-mail address"}),r.a.createElement(ee.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password"})))),r.a.createElement(ne.a.Actions,null,r.a.createElement(te.a,{color:"red"},r.a.createElement(re.a,{name:"remove"})," No"),r.a.createElement(te.a,{color:"green"},r.a.createElement(re.a,{name:"checkmark"})," Yes"))))))}}]),t}(r.a.Component),oe=a(706),le=a(707),ue=a(714),ie=a(704),ce=a(64),de=a.n(ce),me=a(705),pe=a(735),_e=a(734),he=a(736),be=a(729),fe=a(349),ke=a.n(fe),ge=a(708),Ee=a(709),ve=a(710),ye=a(711),Ce=a(712),xe=a(713),we=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(b.a)(t).call(this,e))).state={raw_feed:[],lb_rows:[],ratings:[],user_obj:null,measure_name:"",measure_id:"",measure_obj:null,go_back:!1,bunker_id:null,users:[],past_users:[],user_being_rated_name_and_id:null,user_being_rated_comment:"",user_being_rated_delta:0,snackbar_open:!1,endpoint:"http://127.0.0.1:4000",viewing_leaderboard:!1,theme:a.props.theme},a.columns=[{id:"rank",label:"Rank",minWidth:170},{id:"name",label:"Name",minWidth:170},{id:"score",label:"Score",minWidth:170}],a.setGoBack=function(){a.setState({go_back:!0})},a.handleUserBeingRatedSelectorChange=function(e){a.setState({user_being_rated_name_and_id:e.target.value})},a.handleSnackbarOpen=function(){a.setState({snackbar_open:!0})},a.handleSnackbarClose=function(){a.setState({snackbar_open:!1})},a.deltaSliderValueChange=function(e){a.setState({user_being_rated_delta:e.toString()})},a.buildFeed=function(){var e=[a.postEventCard()];return a.state.raw_feed.forEach((function(t){e.push(a.feedEventCard(t))})),e},a.__onSubmitDeltaClick=function(){a.state.user_being_rated_name_and_id&&a.state.user_being_rated_name_and_id!=={}&&a.state.user_being_rated_comment?(a.postDelta().then(),a.setState({user_being_rated_name_and_id:null,user_being_rated_comment:"",user_being_rated_delta:0})):a.handleSnackbarOpen()},a._onCommentTextChange=function(e){a.setState({user_being_rated_comment:e.target.value})},a._onVerifyDelta=function(e){a.verifyPost(e).then()},a.postEventCard=function(){return console.log(a.state.users),r.a.createElement(de.a.Event,null,r.a.createElement(de.a.Content,null,r.a.createElement(de.a.Extra,null,r.a.createElement(ie.a,{container:!0,spacing:5,style:{marginTop:"20px"},justify:"space-evenly",alignItems:"center"},r.a.createElement(ie.a,{item:!0,xs:2},r.a.createElement(A.a,{id:"outlined-select-user-native",select:!0,label:"User select",onChange:a.handleUserBeingRatedSelectorChange,helperText:"User being rated",variant:"outlined",color:"primary",defaultValue:"",fullWidth:!0,value:null==a.state.user_being_rated_name_and_id?"":a.state.user_being_rated_name_and_id},a.state.users.map((function(e){return r.a.createElement(he.a,{key:e.user_id,value:e},e.name)})))),r.a.createElement(ie.a,{item:!0,xs:2},r.a.createElement(A.a,{id:"standard-basic",label:"Comments",value:a.state.user_being_rated_comment,onChange:function(e){return a._onCommentTextChange(e)},fullWidth:!0,color:"primary"})),r.a.createElement(ie.a,{item:!0,xs:4},r.a.createElement(E.a,null,r.a.createElement(B.a,{id:"discrete-slider-small-steps",gutterBottom:!0},r.a.createElement(B.a,{variant:"body",color:"textPrimary"},"Point delta: ",a.state.user_being_rated_delta.toString())),r.a.createElement(pe.a,{defaultValue:0,onChange:function(e,t){return a.deltaSliderValueChange(t)},"aria-labelledby":"discrete-slider-small-steps",step:1,marks:!0,color:"primary",min:-10,max:10,valueLabelDisplay:"auto",value:a.state.user_being_rated_delta}))),r.a.createElement(ie.a,{item:!0,xs:2},r.a.createElement(H.a,{variant:"contained",size:"large",color:"primary",onClick:a.__onSubmitDeltaClick},"Submit"))),r.a.createElement(me.a,null))))},a.feedEventCard=function(e){var t=e._id,n=a.state.users.concat(a.state.past_users),s=n.filter((function(t){return t.user_id===e.accuser_id}))[0].name,o=n.filter((function(t){return t.user_id===e.victim_id}))[0].name,l=e.delta,u=e.is_verified||a.state.user_obj.nickname===s?r.a.createElement("div",null):r.a.createElement(H.a,{variant:"contained",color:"primary",onClick:function(){return a._onVerifyDelta(t)}},"Verify"),i=e.comment,c=null;try{c=s.split(" ")[0][0]}catch(d){c=" "}return r.a.createElement(de.a.Event,null,r.a.createElement(de.a.Label,null,r.a.createElement(_e.a,null,c)),r.a.createElement(de.a.Content,null,r.a.createElement(de.a.Summary,null,r.a.createElement(de.a.User,{style:{color:"white"}},r.a.createElement(B.a,{variant:"h5"},s))),r.a.createElement(de.a.Extra,null,r.a.createElement(ie.a,{container:!0,spacing:5,style:{marginTop:"20px"},justify:"space-between",alignItems:"flex-start"},r.a.createElement(ie.a,{item:!0,xs:2},r.a.createElement(oe.a,null,r.a.createElement(le.a,null,r.a.createElement(B.a,{color:"textSecondary",gutterBottom:!0},o," receives"),r.a.createElement(B.a,{variant:"h5",component:"h2"},l),r.a.createElement(B.a,{color:"textSecondary",gutterBottom:!0})))),r.a.createElement(ie.a,{item:!0,xs:7},r.a.createElement("p",{style:{color:"white"}},i)),r.a.createElement(ie.a,{item:!0,xs:2},u)),r.a.createElement(me.a,null))))},a.state={user_obj:a.props.user_obj,ratings:a.props.measure_obj.ratings,measure_name:a.props.measure_name,measure_id:a.props.measure_id,measure_obj:a.props.measure_obj,raw_feed:[],lb_rows:a.props.buildLeaderboard(a.props.measure_obj.ratings,a.props.users_for_bunker),go_back:!1,bunker_id:a.props.bunker_id,users:a.props.users_for_bunker,past_users:a.props.past_users_for_bunker,user_being_rated_name_and_id:null,user_being_rated_comment:"",user_being_rated_delta:0,snackbar_open:!1,endpoint:"http://127.0.0.1:4000",theme:a.props.theme},a.getFeed(a.state.measure_id).then(),a}return Object(f.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.endpoint,a=ke()(t);a.on("new_post",(function(t){e.setState({raw_feed:t})})),a.on("verified_post",(function(t){e.setState({raw_feed:t.feed,ratings:t.ratings,lb_rows:e.props.buildLeaderboard(t.ratings,e.state.users)})}))}},{key:"postDelta",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=P.measures_url+"/feed/"+this.state.measure_id,t=encodeURI(t),console.log("Post delta url: ",t),e.prev=3,e.next=6,L.a.post(t,{accuser_id:this.state.user_obj.sub.slice(6),victim_id:this.state.user_being_rated_name_and_id.user_id,delta:this.state.user_being_rated_delta,comment:this.state.user_being_rated_comment,is_verified:!1},{headers:{"Content-Type":"application/json"}}).then((function(e){return console.log("Successfully posted delta")}));case 6:e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),console.log("Failed to post delta",e.t0.response),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getFeed",value:function(){var e=Object(d.a)(c.a.mark((function e(){var t,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=P.measures_url+"/feed/"+this.state.measure_id,t=encodeURI(t),console.log("Get feed url: ",t),e.prev=3,e.next=6,L.a.get(t).then((function(e){console.log("Retrieved feed: ",e.data.feed),a.setState({raw_feed:e.data.feed})}));case 6:e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),console.log("Failed to retrieve feed",e.t0.response),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"verifyPost",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=P.measures_url+"/verify/"+this.state.measure_id+"/"+t,a=encodeURI(a),console.log("Verify post url: ",a),e.prev=3,e.next=6,L.a.post(a,{},{headers:{"Content-Type":"application/json"}}).then((function(e){return console.log("Successfully posted delta")}));case 6:e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),console.log("Failed to verify post",e.t0.response),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.go_back?r.a.createElement(Se,{bunker_id:this.state.bunker_id,user_obj:this.state.user_obj,users_for_bunker:this.state.users,theme:this.props.theme}):r.a.createElement("div",{className:"full-height",style:{backgroundColor:"#eb4d55 ",backgroundSize:"cover",position:"absolute",minHeight:"100%",minWidth:"100%"}},r.a.createElement(be.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snackbar_open,autoHideDuration:6e3,onClose:this.handleSnackbarClose,message:"Please add a name and comments to submit a delta"}),r.a.createElement(K.a,{theme:Object(Y.a)(this.state.theme)},r.a.createElement(g.a,{divided:"vertically"},r.a.createElement(g.a.Row,{columns:1},r.a.createElement(E.a,null,r.a.createElement(v.a,{fixed:"top",color:"#581845",inverted:!0,borderless:!0},r.a.createElement(E.a,null,r.a.createElement(v.a.Item,{position:"left"},r.a.createElement(y.a,{item:!0,icon:"arrow circle left",simple:!0},r.a.createElement(y.a.Menu,{style:{background:"#5c5c5c"}},r.a.createElement(y.a.Item,null,r.a.createElement(B.a,{onClick:this.setGoBack,variant:"button",color:"textPrimary"},"Back to bunker")),r.a.createElement(y.a.Item,null,r.a.createElement(U,null))))),r.a.createElement(v.a.Item,{header:!0},r.a.createElement(B.a,{variant:"h4"},this.state.measure_name)),r.a.createElement(v.a.Item,{as:"a",header:!0,position:"right",onClick:function(){return e.setState({viewing_leaderboard:!0})}},r.a.createElement(C.a.Inline,null," ",r.a.createElement(T.a,{name:"trophy"})," Leaderboard")),r.a.createElement(F.a,{open:this.state.viewing_leaderboard,onClose:function(){return e.setState({viewing_leaderboard:!1})},"aria-labelledby":"leaderboard-title","aria-describedby":"leaderboard-description"},r.a.createElement(D.a,{id:"leaderboard-title"},"Leaderboard"),r.a.createElement(N.a,null,r.a.createElement(z.a,{id:"leaderboard-description"},"See how the survivors in your bunker compare in ",this.state.measure_name)),r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{stickyHeader:!0,"aria-label":"sticky table"},r.a.createElement(ve.a,null,r.a.createElement(ye.a,null,this.columns.map((function(e){return r.a.createElement(Ce.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)})))),r.a.createElement(xe.a,null,this.state.lb_rows.map((function(t){return r.a.createElement(ye.a,{hover:!0,role:"checkbox",tabIndex:-1,key:t.code},e.columns.map((function(e){var a=t[e.id];return r.a.createElement(Ce.a,{key:e.id,align:e.align},a)})))}))))),r.a.createElement(G.a,null,r.a.createElement(H.a,{onClick:function(){return e.setState({viewing_leaderboard:!1})}},"Done"))))))),r.a.createElement(g.a.Row,{columns:1},r.a.createElement(E.a,null,r.a.createElement(de.a,{style:{marginTop:"55px"}},this.buildFeed().map((function(e){return e}))))))))}}]),t}(r.a.Component),je=a(355),Se=function(e){function t(e){var a,n;Object(p.a)(this,t),(a=Object(h.a)(this,Object(b.a)(t).call(this,e))).state={measures:[],bunker:{},user_obj:null,create_measure_form_text:null,create_measure_default_score:0,bunker_name:"",go_back:!1,go_to_measure:!1,select_measure_name:null,select_measure_id:null,select_measure_obj:null,users_for_bunker:null,past_users_for_bunker:null,adding_measure:!1,inviting_others:!1,theme:a.props.theme?a.props.theme:a.props.location.state.theme},a.buildLeaderboard=function(e,t){var a=e;a.sort((function(e,t){return e.score>t.score?-1:1}));for(var n=[],r=function(e){if(t.filter((function(t){return t.user_id===a[e].user}))[0]){var r=t.filter((function(t){return t.user_id===a[e].user}))[0].name,s=e+1,o=a[e].score;n.push({rank:s,name:r,score:o})}},s=0;s<a.length;s++)r(s);return n},a.setGoBack=function(){a.setState({go_back:!0})},a.setGoToMeasure=function(e){console.log("Go to measure:",e),a.setState({select_measure_name:e.name,select_measure_id:e._id,select_measure_obj:e,go_to_measure:!0})},a.__onCreateMeasureNameFormChange=function(e){a.setState({create_measure_form_text:e})},a.__onAddMeasureClick=function(){a.createNewMeasure(a.state.create_measure_form_text,a.state.create_measure_default_score).then((function(e){return console.log("Measure created")}))},a.renderEmptyMeasureListItem=function(){return r.a.createElement(k.a.Item,null,r.a.createElement(k.a.Icon,{name:"bug",size:"large",verticalAlign:"middle"}),r.a.createElement(k.a.Content,null,r.a.createElement(k.a.Header,{as:"a"},"You're in no measures!"),r.a.createElement(k.a.Description,{as:"a"},"...boringgggg...")))},a.renderMeasureListItem=function(e){var t=a.buildLeaderboard(e.ratings,a.state.users_for_bunker);return r.a.createElement(je.a,{color:"grey"},r.a.createElement(oe.a,{onClick:function(){return a.getMeasure(e._id)},id:e._id,raised:!0},r.a.createElement(ue.a,null,r.a.createElement(le.a,null,r.a.createElement(B.a,{variant:"h5",component:"h2"},e.name),r.a.createElement(B.a,{color:"textSecondary",gutterBottom:!0},"Rankings:"),r.a.createElement(B.a,{variant:"body2",component:"p"},"1. ",t[0].name,r.a.createElement("br",null),"2. ",t[1]?t[1].name:" ",r.a.createElement("br",null),"3. ",t[2]?t[2].name:" ")))))},a.genMeasureList=function(){var e=[];return 0===a.state.measures.length?e.push(a.renderEmptyMeasureListItem()):a.state.measures.forEach((function(t){return e.push(a.renderMeasureListItem(t))})),e};try{n=a.props.location.state.bunker_id}catch(s){n=a.props.bunker_id}return a.getBunker(n).then((function(e){return a.__completeStateInitialization()})),a}return Object(f.a)(t,e),Object(_.a)(t,[{key:"createNewMeasure",value:function(){var e=Object(d.a)(c.a.mark((function e(t,a){var n,r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=P.bunkers_url+"/measure/"+this.state.bunker._id+"/"+t+"/"+a,n=encodeURI(n),console.log("Post new measure url: ",n),e.prev=3,e.next=6,L.a.post(n,{},{headers:{"Content-Type":"application/json"}}).then((function(e){return r.setGoToMeasure(e.data.measure)}));case 6:e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.log(e.t0.response);case 12:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getBunker",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=P.bunkers_url+"/"+t,a=encodeURI(a),console.log("Get bunker url: ",a),e.prev=3,e.next=6,L.a.get(a).then((function(e){n.setState({bunker:e.data.bunker}),n.getMeasuresFromBunker(e.data.bunker._id),console.log("Retrieved bunker data: ",e.data.bunker)}));case 6:e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),console.log("Bunker doesn't exist",e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getMeasuresFromBunker",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=P.bunkers_url+"/measures/"+t,a=encodeURI(a),console.log("Get measures from bunker url: ",a),e.prev=3,e.next=6,L.a.get(a).then((function(e){n.setState({measures:e.data.measures}),n.getUsersFromBunker(t)}));case 6:e.sent,console.log("Retrieved bunker's measures"),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(3),console.log("Couldn't get bunker's measures",e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getMeasure",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=P.measures_url+"/"+t,a=encodeURI(a),console.log("Get measure url: ",a),e.prev=3,e.next=6,L.a.get(a).then((function(e){console.log("Retrieved measure data: ",e.data.measure),n.setGoToMeasure(e.data.measure)}));case 6:e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),console.log("Measure doesn't exist",e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getUsersFromBunker",value:function(){var e=Object(d.a)(c.a.mark((function e(t){var a,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=P.bunkers_url+"/users/"+t,a=encodeURI(a),console.log("Get users from bunker url: ",a),e.prev=3,e.next=6,L.a.get(a).then((function(e){console.log("Retrieved users from bunker: ",e.data.users),n.setState({users_for_bunker:e.data.users,past_users_for_bunker:e.data.past_users})}));case 6:e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),console.log("Failed getting users from bunker",e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"__completeStateInitialization",value:function(){try{this.setState({user_obj:this.props.location.state.user})}catch(e){this.setState({user_obj:this.props.user_obj})}try{this.setState({users_for_bunker:this.props.location.state.users_for_bunker,past_users_for_bunker:this.props.past_users_for_bunker})}catch(e){this.setState({users_for_bunker:this.props.users_for_bunker,past_users_for_bunker:this.props.past_users_for_bunker})}this.setState({bunker_name:this.state.bunker.name}),console.log("User object: ",this.state.user_obj)}},{key:"render",value:function(){var e=this,t=this.genMeasureList();return this.state.go_back?r.a.createElement(u.a,{to:{pathname:"/home",state:{user:this.state.user_obj}}}):this.state.go_to_measure?r.a.createElement(we,{measure_name:this.state.select_measure_name,measure_id:this.state.select_measure_id,measure_obj:this.state.select_measure_obj,user_obj:this.state.user_obj,bunker_id:this.state.bunker._id,users_for_bunker:this.state.users_for_bunker,past_users_for_bunker:this.state.past_users_for_bunker,buildLeaderboard:this.buildLeaderboard,theme:this.state.theme}):r.a.createElement("div",{className:"full-height",style:{backgroundColor:"#EB4D55",backgroundSize:"cover",position:"absolute",minHeight:"100%",minWidth:"100%"}},r.a.createElement(K.a,{theme:Object(Y.a)(this.state.theme)},r.a.createElement(g.a,{divided:"vertically"},r.a.createElement(g.a.Row,{columns:1},r.a.createElement(E.a,null,r.a.createElement(v.a,{fixed:"top",inverted:!0,borderless:!0},r.a.createElement(E.a,null,r.a.createElement(v.a.Item,{position:"left"},r.a.createElement(y.a,{item:!0,icon:"arrow circle left",simple:!0},r.a.createElement(y.a.Menu,{style:{background:"#5c5c5c"}},r.a.createElement(y.a.Item,null,r.a.createElement(B.a,{onClick:this.setGoBack,variant:"button",color:"textPrimary"},"Back to home")),r.a.createElement(y.a.Item,null,r.a.createElement(U,null))))),r.a.createElement(v.a.Item,{header:!0},r.a.createElement(B.a,{variant:"h4"},this.state.bunker_name)),r.a.createElement(v.a.Item,{position:"right"},r.a.createElement(y.a,{item:!0,icon:"align justify",position:"right",simple:!0},r.a.createElement(y.a.Menu,{style:{background:"#5c5c5c"}},r.a.createElement(y.a.Item,null,r.a.createElement(B.a,{onClick:function(){return e.setState({adding_measure:!0})},variant:"button",color:"textPrimary"},r.a.createElement(T.a,{name:"add"}),"Add Measure...")),r.a.createElement(y.a.Item,null,r.a.createElement(B.a,{onClick:function(){return e.setState({inviting_others:!0})},variant:"button",color:"textPrimary"},r.a.createElement(T.a,{name:"add"}),"Invite Others...")),r.a.createElement(F.a,{open:this.state.adding_measure,onClose:function(){return e.setState({adding_measure:!1})},"aria-labelledby":"add-measure-title","aria-describedby":"add-measure-description"},r.a.createElement(D.a,{id:"add-measure-title"},"Add a measure"),r.a.createElement(N.a,null,r.a.createElement(z.a,{id:"add-measure-description"},"Create a new measure to start ranking the survivors in your bunker!"),r.a.createElement(A.a,{autoFocus:!0,margin:"dense",id:"name",label:"Measure name",type:"text",fullWidth:!0,color:"secondary",onChange:function(t){return e.__onCreateMeasureNameFormChange(t.target.value)}})),r.a.createElement(G.a,null,r.a.createElement(H.a,{onClick:this.__onAddMeasureClick},"Create"))),r.a.createElement(F.a,{open:this.state.inviting_others,onClose:function(){return e.setState({inviting_others:!1})},"aria-labelledby":"inviting-others-title","aria-describedby":"inviting-others-description"},r.a.createElement(D.a,{id:"inviting-others-title"},"Invite Others"),r.a.createElement(N.a,null,r.a.createElement(z.a,{id:"inviting-others-description"},"Copy and send the access code below to your friends so they can join you in your bunker and help you survive!"),r.a.createElement(B.a,{color:"secondary",variant:"h5",align:"center"},r.a.createElement("b",null,this.state.bunker._id))),r.a.createElement(G.a,null,r.a.createElement(H.a,{onClick:function(){return e.setState({inviting_others:!1})}},"Done")))))))))),r.a.createElement(g.a.Row,{columns:1},r.a.createElement(ie.a,{container:!0,spacing:5,style:{marginTop:"48px"},direction:"row"},r.a.createElement(ie.a,{item:!0,xs:12},r.a.createElement(ie.a,{container:!0,justify:"center",spacing:4},t.map((function(e){return r.a.createElement(ie.a,{item:!0},e)})))))))))}}]),t}(r.a.Component),Ie=a(350),Oe=a.n(Ie),Be=function(){var e=O(),t=e.isAuthenticated,a=e.loginWithRedirect,n=e.logout;return t&&a(),r.a.createElement("div",null,r.a.createElement(g.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle"},r.a.createElement(g.a.Column,{style:{maxWidth:450}},r.a.createElement(X.a,{as:"h2",color:"#73031D",textAlign:"center"},r.a.createElement(Oe.a,{fontSize:"large"})," ",r.a.createElement(B.a,{variant:"h2",style:{color:"#73031D"}}," Welcome to Corona Count! ")),r.a.createElement(ee.a,{size:"large"},r.a.createElement(C.a,null,!t&&r.a.createElement(te.a,{color:"#73031D",fluid:!0,size:"large",onClick:function(){return a({})}},"Get Started!"),t&&r.a.createElement(te.a,{color:"#73031D",fluid:!0,size:"large",onClick:function(){return n()}},"Log out"))))))},Ue=a(186);var Re=function(){var e=O(),t=e.isAuthenticated;return e.loading?r.a.createElement("div",null,"Loading..."):r.a.createElement(l.a,null,r.a.createElement("div",null,r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/home",render:function(e){return t?r.a.createElement(Q,e):r.a.createElement(Ue.a,{to:"/start"})}}),r.a.createElement(u.b,{path:"/login",render:function(e){return t?r.a.createElement(se,e):r.a.createElement(Ue.a,{to:"/start"})}}),r.a.createElement(u.b,{path:"/start",render:function(e){return r.a.createElement(Be,e)}}),r.a.createElement(u.b,{path:"/bunker",render:function(e){return t?r.a.createElement(Se,e):r.a.createElement(Ue.a,{to:"/start"})}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Le=a(234),Pe=a(46),Me=Object(Pe.a)();o.a.render(r.a.createElement((function(e){var t=e.children,a=e.onRedirectCallback,s=void 0===a?S:a,o=Object(m.a)(e,["children","onRedirectCallback"]),l=Object(n.useState)(),u=Object(x.a)(l,2),i=u[0],p=u[1],_=Object(n.useState)(),h=Object(x.a)(_,2),b=h[0],f=h[1],k=Object(n.useState)(),g=Object(x.a)(k,2),E=g[0],v=g[1],y=Object(n.useState)(!0),C=Object(x.a)(y,2),w=C[0],O=C[1],B=Object(n.useState)(!1),U=Object(x.a)(B,2),R=U[0],L=U[1];Object(n.useEffect)((function(){(function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,n,r,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j()(o);case 2:if(t=e.sent,v(t),!window.location.search.includes("code=")||!window.location.search.includes("state=")){e.next=11;break}return e.next=7,t.handleRedirectCallback();case 7:a=e.sent,n=a.appState,s(n),console.log(n);case 11:return e.next=13,t.isAuthenticated();case 13:if(r=e.sent,p(r),!r){e.next=20;break}return e.next=18,t.getUser();case 18:l=e.sent,f(l);case 20:O(!1);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var P=function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,n=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},L(!0),e.prev=2,e.next=5,E.loginWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,L(!1),e.finish(10);case 13:return e.next=15,E.getUser();case 15:a=e.sent,f(a),p(!0);case 18:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(d.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,E.handleRedirectCallback();case 3:return e.next=5,E.getUser();case 5:t=e.sent,O(!1),p(!0),f(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(I.Provider,{value:{isAuthenticated:i,user:b,loading:w,popupOpen:R,loginWithPopup:P,handleRedirectCallback:M,getIdTokenClaims:function(){return E.getIdTokenClaims.apply(E,arguments)},loginWithRedirect:function(){return E.loginWithRedirect.apply(E,arguments)},getTokenSilently:function(){return E.getTokenSilently.apply(E,arguments)},getTokenWithPopup:function(){return E.getTokenWithPopup.apply(E,arguments)},logout:function(){return E.logout.apply(E,arguments)}}},t)}),{domain:Le.domain,client_id:Le.clientId,redirect_uri:"http://localhost:3000/home",onRedirectCallback:function(e){Me.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}},r.a.createElement(Re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[376,1,2]]]);
//# sourceMappingURL=main.da8f5764.chunk.js.map